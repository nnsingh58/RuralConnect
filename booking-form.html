<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Form - Rural Connect</title>
    <!-- TailwindCSS via CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Arial', sans-serif; background: linear-gradient(to bottom, #e0f2fe, #ffffff); }
        .form-container { @apply max-w-lg mx-auto p-6 bg-white rounded-xl shadow-lg mt-6; }
        .form-input { @apply w-full p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500; }
        .form-button { @apply bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 w-full; }
        .header { @apply bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 text-center rounded-t-xl; }
    </style>
</head>
<body>
    <div className="form-container">
        <div className="header">
            <h2 className="text-2xl font-bold">Booking Form</h2>
        </div>
        <div className="p-6">
            <h3 id="service-name" className="text-lg font-semibold mb-4"></h3>
            <input
                type="text"
                id="name"
                placeholder="Full Name"
                className="form-input"
            />
            <input
                type="text"
                id="phone"
                placeholder="Phone Number"
                className="form-input"
            />
            <input
                type="text"
                id="address"
                placeholder="Address"
                className="form-input"
            />
            <input
                type="datetime-local"
                id="preferredTime"
                className="form-input"
            />
            <button onclick="submitBooking()" className="form-button">
                Submit Booking
            </button>
        </div>
    </div>
    <script>
        // Get service name from URL
        const urlParams = new URLSearchParams(window.location.search);
        const service = urlParams.get('service') || 'Unknown Service';
        document.getElementById('service-name').textContent = `Booking for: ${service}`;

        function submitBooking() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const preferredTime = document.getElementById('preferredTime').value;

            if (!name || !phone || !address || !preferredTime) {
                alert('Please fill all fields.');
                return;
            }

            // Generate unique ID
            const id = Date.now().toString();

            // Simulate push message to provider
            alert(`Booking request for ${service} sent to provider! Details: Name: ${name}, Phone: ${phone}, Address: ${address}, Time: ${preferredTime}. From: Rural Connect`);

            // Save booking to local storage
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            bookings.push({ id, service, name, phone, address, preferredTime, status: 'pending' });
            localStorage.setItem('bookings', JSON.stringify(bookings));

            // Redirect to payment (placeholder)
            alert(`Booking ${service}. Redirecting to payment...`);
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
